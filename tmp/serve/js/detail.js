/// <reference path="../../typings/jquery/jquery.d.ts" />
'use strict';

var app = app || {};

(function () {
  'use strict';

  $(function () {

    var $inputText = $('.js-text');
    var $inputPriority = $('.js-priority');
    var $inputDetail = $('.js-detail');

    // 初期処理
    var itemKey = app.common.getURLParamValue('id');
    var item = JSON.parse(localStorage.getItem(itemKey));
    var todoItem = new app.common.Todo(itemKey, item.title, item.priority, item.detail);

    $inputText.val(todoItem.title);
    $inputPriority.val([todoItem.priority]);
    $inputDetail.val(todoItem.detail);

    // saveボタンクリック
    $('.js-save').click(function () {
      todoItem.update($inputText.val(), $('.js-priority:checked').val(), $inputDetail.val());
      alert('saved!');
    });

    // backボタンクリック
    $('.js-back').click(function () {
      location.href = '/';
    });
  });
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldGFpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDOztBQUVwQixDQUFDLFlBQVc7QUFDVixjQUFZLENBQUM7O0FBRWIsR0FBQyxDQUFDLFlBQVc7O0FBRVgsUUFBTSxVQUFVLEdBQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JDLFFBQU0sY0FBYyxHQUFHLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxRQUFNLFlBQVksR0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7OztBQUd2QyxRQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2hELFFBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ3JELFFBQUksUUFBUSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQ0UsT0FBTyxFQUNQLElBQUksQ0FBQyxLQUFLLEVBQ1YsSUFBSSxDQUFDLFFBQVEsRUFDYixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRWpELGNBQVUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9CLGtCQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDeEMsZ0JBQVksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDOzs7QUFHbEMsS0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFNO0FBQ3hCLGNBQVEsQ0FBQyxNQUFNLENBQ0csVUFBVSxDQUFDLEdBQUcsRUFBRSxFQUNoQixDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFDL0IsWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDdEMsV0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ2pCLENBQUMsQ0FBQzs7O0FBR0gsS0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFNO0FBQ3hCLGNBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0tBQ3JCLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUEsRUFBRyxDQUFDIiwiZmlsZSI6ImRldGFpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2pxdWVyeS9qcXVlcnkuZC50c1wiIC8+XHJcbnZhciBhcHAgPSBhcHAgfHwge307XHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIFxyXG4gICQoZnVuY3Rpb24oKSB7XHJcbiAgXHJcbiAgICBjb25zdCAkaW5wdXRUZXh0ICAgICA9ICQoJy5qcy10ZXh0Jyk7XHJcbiAgICBjb25zdCAkaW5wdXRQcmlvcml0eSA9ICQoJy5qcy1wcmlvcml0eScpO1xyXG4gICAgY29uc3QgJGlucHV0RGV0YWlsICAgPSAkKCcuanMtZGV0YWlsJyk7XHJcbiAgICBcclxuICAgIC8vIOWIneacn+WHpueQhlxyXG4gICAgbGV0IGl0ZW1LZXkgPSBhcHAuY29tbW9uLmdldFVSTFBhcmFtVmFsdWUoJ2lkJyk7XHJcbiAgICBsZXQgaXRlbSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbUtleSkpO1xyXG4gICAgbGV0IHRvZG9JdGVtID0gbmV3IGFwcC5jb21tb24uVG9kbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1LZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmlvcml0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGV0YWlsKTtcclxuICAgIFxyXG4gICAgJGlucHV0VGV4dC52YWwodG9kb0l0ZW0udGl0bGUpO1xyXG4gICAgJGlucHV0UHJpb3JpdHkudmFsKFt0b2RvSXRlbS5wcmlvcml0eV0pO1xyXG4gICAgJGlucHV0RGV0YWlsLnZhbCh0b2RvSXRlbS5kZXRhaWwpO1xyXG4gICAgXHJcbiAgICAvLyBzYXZl44Oc44K/44Oz44Kv44Oq44OD44KvXHJcbiAgICAkKCcuanMtc2F2ZScpLmNsaWNrKCgpID0+IHtcclxuICAgICAgdG9kb0l0ZW0udXBkYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXRUZXh0LnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtcHJpb3JpdHk6Y2hlY2tlZCcpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXREZXRhaWwudmFsKCkpO1xyXG4gICAgICBhbGVydCgnc2F2ZWQhJyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gYmFja+ODnOOCv+ODs+OCr+ODquODg+OCr1xyXG4gICAgJCgnLmpzLWJhY2snKS5jbGljaygoKSA9PiB7XHJcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnLyc7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=