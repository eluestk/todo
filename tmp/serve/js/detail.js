/// <reference path="../../typings/jquery/jquery.d.ts" />
'use strict';

var app = app || {};

(function () {
  'use strict';

  $(function () {

    var $inputText = $('.js-text');
    var $inputPriority = $('.js-priority');
    var $inputDetail = $('.js-detail');

    // 初期処理
    var itemKey = app.common.getURLParam('id');
    var item = JSON.parse(localStorage.getItem(itemKey));
    var todoItem = new app.common.Todo(itemKey, item.title, item.priority, item.detail);

    $inputText.val(todoItem.title);
    $inputPriority.val([todoItem.priority]);
    $inputDetail.val(todoItem.detail);

    // saveボタンクリック
    $('.js-save').click(function () {
      todoItem.update($inputText.val(), $('.js-priority:checked').val(), $inputDetail.val());
      alert('saved!');
    });

    // backボタンクリック
    $('.js-back').click(function () {
      location.href = '/';
    });
  });
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldGFpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDOztBQUVwQixDQUFDLFlBQVc7QUFDVixjQUFZLENBQUM7O0FBRWIsR0FBQyxDQUFDLFlBQVc7O0FBRVgsUUFBTSxVQUFVLEdBQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JDLFFBQU0sY0FBYyxHQUFHLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxRQUFNLFlBQVksR0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7OztBQUd2QyxRQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzQyxRQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNyRCxRQUFJLFFBQVEsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUVwRixjQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMvQixrQkFBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLGdCQUFZLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7O0FBR2xDLEtBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBTTtBQUN4QixjQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUN2RixXQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDakIsQ0FBQyxDQUFDOzs7QUFHSCxLQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQU07QUFDeEIsY0FBUSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7S0FDckIsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQSxFQUFHLENBQUMiLCJmaWxlIjoiZGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvanF1ZXJ5L2pxdWVyeS5kLnRzXCIgLz5cclxudmFyIGFwcCA9IGFwcCB8fCB7fTtcclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgXHJcbiAgJChmdW5jdGlvbigpIHtcclxuICBcclxuICAgIGNvbnN0ICRpbnB1dFRleHQgICAgID0gJCgnLmpzLXRleHQnKTtcclxuICAgIGNvbnN0ICRpbnB1dFByaW9yaXR5ID0gJCgnLmpzLXByaW9yaXR5Jyk7XHJcbiAgICBjb25zdCAkaW5wdXREZXRhaWwgICA9ICQoJy5qcy1kZXRhaWwnKTtcclxuICAgIFxyXG4gICAgLy8g5Yid5pyf5Yem55CGXHJcbiAgICBsZXQgaXRlbUtleSA9IGFwcC5jb21tb24uZ2V0VVJMUGFyYW0oJ2lkJyk7XHJcbiAgICBsZXQgaXRlbSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbUtleSkpO1xyXG4gICAgbGV0IHRvZG9JdGVtID0gbmV3IGFwcC5jb21tb24uVG9kbyhpdGVtS2V5LCBpdGVtLnRpdGxlLCBpdGVtLnByaW9yaXR5LCBpdGVtLmRldGFpbCk7XHJcbiAgICBcclxuICAgICRpbnB1dFRleHQudmFsKHRvZG9JdGVtLnRpdGxlKTtcclxuICAgICRpbnB1dFByaW9yaXR5LnZhbChbdG9kb0l0ZW0ucHJpb3JpdHldKTtcclxuICAgICRpbnB1dERldGFpbC52YWwodG9kb0l0ZW0uZGV0YWlsKTtcclxuICAgIFxyXG4gICAgLy8gc2F2ZeODnOOCv+ODs+OCr+ODquODg+OCr1xyXG4gICAgJCgnLmpzLXNhdmUnKS5jbGljaygoKSA9PiB7XHJcbiAgICAgIHRvZG9JdGVtLnVwZGF0ZSgkaW5wdXRUZXh0LnZhbCgpLCAkKCcuanMtcHJpb3JpdHk6Y2hlY2tlZCcpLnZhbCgpLCAkaW5wdXREZXRhaWwudmFsKCkpO1xyXG4gICAgICBhbGVydCgnc2F2ZWQhJyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gYmFja+ODnOOCv+ODs+OCr+ODquODg+OCr1xyXG4gICAgJCgnLmpzLWJhY2snKS5jbGljaygoKSA9PiB7XHJcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnLyc7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=